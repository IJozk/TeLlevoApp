<app-header title="Ajustar viaje" isBackBtn="true" iconMain="arrow-back-outline" ruta="/main/publicar-disp"> </app-header>

<ion-content>

  <form [formGroup]="form" class="auth-form" (ngSubmit)="submit()" (keypress.enter)="submit()">

  <app-custom-input 
    icon="car-outline"
    [control]="form.controls.patente" 
    type="text"
    label="Automovil"
  ></app-custom-input>

  <div class="validators" *ngIf="form.controls.patente.errors && form.controls.patente.touched">

    <div *ngIf="form.controls.patente.errors?.['required']"><ion-item><ion-icon slot="start" name="close-outline" color="danger" size="small"></ion-icon> 
      <ion-text color="danger">
      <p class="m_error">Se debe ingresar una patente</p>
    </ion-text>
    </ion-item></div>
    
  </div>

  <ion-list>
    <ion-item>
      <ion-icon slot="start" name="location-outline"></ion-icon>
      <ion-select
        aria-label="Destino"
        placeholder="Selecciona el destino"
        [formControl]="form.controls.destino"
      >
        <ion-select-option value=""></ion-select-option>
        <ion-select-option value="Concepcion Centro">Concepcion Centro</ion-select-option>
        <ion-select-option value="San pedro de la paz">San pedro de la paz</ion-select-option>
        <ion-select-option value="Hualpen">Hualpen</ion-select-option>
        <ion-select-option value="Talcahuano">Talcahuano</ion-select-option>
        <ion-select-option value="Penco">Penco</ion-select-option>
      </ion-select>
    </ion-item>
  </ion-list>

  <div class="validators" *ngIf="form.controls.destino.errors && form.controls.destino.touched">

    <div *ngIf="form.controls.destino.errors?.['required']"><ion-item><ion-icon slot="start" name="close-outline" color="danger" size="small"></ion-icon> 
      <ion-text color="danger">
      <p class="m_error">Se debe ingresar un deastino</p>
    </ion-text>
    </ion-item></div>
    
  </div>

  <app-custom-input 
      icon="people-outline"
      [control]="form.controls.asientos" 
      type="text"
      label="Asientos disponibles"
  ></app-custom-input>

  <div class="validators" *ngIf="form.controls.asientos.errors && form.controls.asientos.touched">
    <div *ngIf="form.controls.asientos.errors?.['max']"><ion-item><ion-icon slot="start" name="close-outline" color="danger" size="small"></ion-icon> 
      <ion-text color="danger">
      <p class="m_error">Ingrese un numero de asiento igual o menor a {{maxAsientos}}</p>
    </ion-text>
    </ion-item></div>
  </div>

  <app-custom-input 
    icon="cash-outline"
    [control]="form.controls.montoAsiento" 
    type="text"
    label="Monto p/ asiento"
  ></app-custom-input>

  <ion-datetime [formControl]="form.controls.hora" presentation="time"></ion-datetime>

  <ion-button  expand="block" mode="ios" class="submit" type="submit" [disabled]="form.invalid">
    Confirmar
  </ion-button>

</form>

</ion-content>